Автоматическое добавление пользователя на сервера Хотулева.

Для добавления пользователя определяемся с его именем (vpupkin)
Заходим в каталог /home/alex/bin/add_user/
Создаем файл название которого совпадает с именем пользователя vpupkin
Добавляем в него публичный ключ пользователя, сохраняем в текущем каталоге.
Запусуаем скрипт sudo /home/alex/bin/add_user/adduser_to_host.sh vpupkin dev.p-w-d.ru
Результатом выполнения будет вывод:

Changing password for user vpupkin.
passwd: all authentication tokens updated successfully.
login : vpupkin  |  password : xzCaS755

Ключ из файла будет добавлен автоматически. Пароль генерится на всякий случай.
В файл /home/alex/bin/add_user/adduser.log добавится информация о добавлении пользователя на определенный сервер.

В случае если домашняя дирректория с именем пользователя которое вы выбрали уже существует, результатом выполнения скрипта будет следующий вывод:

User already exists, operation canceled !

пользователь создан не будет. Следует изменить имя пользователя и добавить его.

Для серверов Obi скрипт следует запускать следующий:
/home/alex/bin/add_user/adduser_to_obi.sh

